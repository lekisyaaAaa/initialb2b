# Home Assistant Lovelace Dashboard YAML for Knights ESP32 Control
# This is a raw dashboard configuration that you can import or use in HA

title: Knights IoT Control Panel
views:
  - title: Main Control
    path: knights-main
    badges: []
    cards:
      - type: entities
        title: Pump & Valve Control
        show_header_toggle: false
        entities:
          - entity: switch.knights_water_pump
            name: Water Pump
            icon: mdi:water-pump
          - entity: switch.knights_valve1_pulse
            name: Solenoid Valve 1 (Pulse)
            icon: mdi:valve
          - entity: switch.knights_valve2_pulse
            name: Solenoid Valve 2 (Pulse)
            icon: mdi:valve
          - entity: switch.knights_valve3_pulse
            name: Solenoid Valve 3 (Pulse)
            icon: mdi:valve

      - type: entities
        title: Operating Modes
        show_header_toggle: false
        entities:
          - entity: switch.knights_auto_mode
            name: Auto Mode (Float Sensor Control)
            icon: mdi:robot
          - entity: switch.knights_manual_mode
            name: Manual Mode
            icon: mdi:hand

      - type: entities
        title: Sensor Readings
        show_header_toggle: false
        entities:
          - entity: sensor.knights_float_sensor
            name: Float Sensor State
            icon: mdi:toggle-switch
          - entity: sensor.knights_water_level
            name: Water Level
            icon: mdi:waves
          - entity: sensor.knights_device_uptime
            name: Device Uptime
            icon: mdi:clock
          - entity: sensor.knights_wifi_signal
            name: WiFi Signal Strength
            icon: mdi:wifi

      - type: markdown
        title: Instructions
        content: |
          **Control Instructions:**
          - **Water Pump**: Toggle on/off for manual control
          - **Solenoid Valves**: Pulse switches activate for 800ms
          - **Auto Mode**: Pump controlled by float sensor (on when water low)
          - **Manual Mode**: Direct control via switches
          - Sensor data updates every 5 minutes

  - title: Device Status
    path: knights-status
    badges: []
    cards:
      - type: glance
        title: Device Overview
        entities:
          - entity: switch.knights_water_pump
            name: Pump
          - entity: switch.knights_auto_mode
            name: Auto
          - entity: sensor.knights_float_sensor
            name: Float
          - entity: sensor.knights_wifi_signal
            name: WiFi

      - type: logbook
        title: Recent Activity
        entities:
          - switch.knights_water_pump
          - switch.knights_valve1_pulse
          - switch.knights_valve2_pulse
          - switch.knights_valve3_pulse
        hours_to_show: 24